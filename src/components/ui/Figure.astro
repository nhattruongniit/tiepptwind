---
interface Props {
  className?: string;
  link?: string;
  target?: string;
  rel?: string;
  alt?: string;
  title?: string;
  caption?: string;
  src: string;
}
const {
  className = '',
  link,
  target,
  rel,
  src,
  alt,
  title,
  caption,
} = Astro.props;
const withCaption = !!(caption || title);
---

<figure class={'figure-container ' + className}>
  {
    link != null ? (
      <a href={link} target={target} rel={rel}>
        <img src={src} alt={alt || caption} />
      </a>
    ) : (
      <img src={src} alt={alt || caption} />
    )
  }

  {
    withCaption && (
      <figcaption>
        {title != null && <h4>{title}</h4>}

        {caption != null && <p>{caption}</p>}
      </figcaption>
    )
  }
</figure>
